require 'rho/rhoapplication'

class AppApplication < Rho::RhoApplication
  def initialize
    if Category.find(:all).size == 0 || Map.find(:all).size == 0
      Rhom::Rhom.database_full_reset(false, true)
      # PLACEHOLDER: categories & maps, i.e. categories.each{|category| Category.create(category) }
      [{'sign'=>"nature",'name_ua'=>"ЗАГАЛЬНІ ЗАКОНОМІРНОСТІ ПРИРОДИ ЗЕМЛІ",'name_en'=>"GENERAL LAWS OF NATURE EARTH",'name_ru'=>"ОБЩИЕ ЗАКОНОМЕРНОСТИ ПРИРОДЫ ЗЕМЛИ",},{'sign'=>"oceans",'name_ua'=>"ОКЕАНИ",'name_en'=>"OCEANS",'name_ru'=>"ОКЕАНЫ",},{'sign'=>"africa",'name_ua'=>"АФРИКА",'name_en'=>"AFRICA",'name_ru'=>"АФРИКА",},{'sign'=>"australia",'name_ua'=>"АВСТРАЛІЯ",'name_en'=>"AUSTRALIA",'name_ru'=>"АВСТРАЛИЯ",},{'sign'=>"south_america",'name_ua'=>"ПІВДЕННА АМЕРИКА",'name_en'=>"SOUTH AMERICA",'name_ru'=>"ЮЖНАЯ АМЕРИКА",},{'sign'=>"north_america",'name_ua'=>"ПІВНІЧНА АМЕРИКА",'name_en'=>"NORTH AMERICA",'name_ru'=>"СЕВЕРНАЯ АМЕРИКА",},{'sign'=>"antarctica",'name_ua'=>"АНТАРКТИДА",'name_en'=>"ANTARCTICA",'name_ru'=>"АНТАРКТИДА",},{'sign'=>"eurasia",'name_ua'=>"ЄВРАЗІЯ",'name_en'=>"EURASIA",'name_ru'=>"ЕВРАЗИЯ",},{'sign'=>"our_home",'name_ua'=>"ЗЕМЛЯ – НАШ СПІЛЬНИЙ ДІМ",'name_en'=>"EARTH - our common home",'name_ru'=>"ЗЕМЛЯ - НАШ ОБЩИЙ ДОМ",}].each{|category| Category.create(category) }
      [{'category_sign'=>"nature",'name_ua'=>"Годинні пояси",'name_en'=>"Timezones",'name_ru'=>"Часовые пояса",'file'=>"r_1",'summary'=>"r_1",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Фізична карта світу",'name_en'=>"Physical Map of the World",'name_ru'=>"Физическая карта мира",'file'=>"r_2_3",'summary'=>"r_2",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Будова земної кори",'name_en'=>"Structure of the crust",'name_ru'=>"Строение земной коры",'file'=>"r_4_5",'summary'=>"r_4",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Кліматична карта світу",'name_en'=>"Climate map of the world",'name_ru'=>"Климатическая карта мира",'file'=>"r_7",'summary'=>"r_6",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Кліматичні пояси та області світу",'name_en'=>"Climatic zones and areas of the world",'name_ru'=>"Климатические пояса и области мира",'file'=>"r_8",'summary'=>"r_7",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Ґрунти світу",'name_en'=>"Soils world",'name_ru'=>"Почвы мира",'file'=>"r_9",'summary'=>"r_8",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"nature",'name_ua'=>"Географічні пояси та природні зони світу",'name_en'=>"Geographic zones and natural areas of the world",'name_ru'=>"Географические пояса и природные зоны мира",'file'=>"r_10",'summary'=>"r_9",'legend'=>"Main",'pictures_list'=>"r_1",'questionnaire'=>"r_1",},{'category_sign'=>"oceans",'name_ua'=>"Тихий та Індійський. Температура та солоність води. Кліматичні пояси.",'name_en'=>"Pacific and Indian. Temperature and salinity. Climatic zones.",'name_ru'=>"Тихий и Индийский. Температура и соленость воды. Климатические пояса.",'file'=>"r_16_17",'summary'=>"r_10",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"oceans",'name_ua'=>"Тихий та Індійський. Течії",'name_en'=>"Pacific and Indian. Flow",'name_ru'=>"Тихий и Индийский. Течения",'file'=>"r_18-1",'summary'=>"r_10",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"oceans",'name_ua'=>"Океанія. Держави та народи",'name_en'=>"Oceania. Government and people",'name_ru'=>"Океания. Государства и народы",'file'=>"r_18-2",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"oceans",'name_ua'=>"Північний Льодовитий океан. Дослідження Арктики",'name_en'=>"The Arctic Ocean. Research in the Arctic",'name_ru'=>"Северный Ледовитый океан. Исследования Арктики",'file'=>"r_19",'summary'=>"r_10-1",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"oceans",'name_ua'=>"Атлантичний. Температура та солоність води.",'name_en'=>"The Atlantic. Temperature and salinity.",'name_ru'=>"Атлантический. Температура и соленость воды.",'file'=>"r_20",'summary'=>"r_12",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"oceans",'name_ua'=>"Атлантичний. Кліматичні пояси. Течії",'name_en'=>"The Atlantic. Climatic zones. Flow",'name_ru'=>"Атлантический. Климатические пояса. Течения",'file'=>"r_21",'summary'=>"r_12",'legend'=>"Main",'pictures_list'=>"r_2",'questionnaire'=>"r_2",},{'category_sign'=>"africa",'name_ua'=>"Фізична карта. Тектоніка",'name_en'=>"Physical map. Tectonics",'name_ru'=>"Физическая карта. Тектоника",'file'=>"r_22",'summary'=>"r_20",'legend'=>"Main",'pictures_list'=>"r_3",'questionnaire'=>"r_3",},{'category_sign'=>"africa",'name_ua'=>"Клімат. Геологія",'name_en'=>"Climate. Geology",'name_ru'=>"Климат. Геология",'file'=>"r_23",'summary'=>"r_21",'legend'=>"Main",'pictures_list'=>"r_3",'questionnaire'=>"r_3",},{'category_sign'=>"africa",'name_ua'=>"Природні зони. Кліматичні пояси та області",'name_en'=>"Natural areas. Climatic zones and areas",'name_ru'=>"Природные зоны. Климатические пояса и области",'file'=>"r_24",'summary'=>"r_21-1",'legend'=>"Main",'pictures_list'=>"r_3",'questionnaire'=>"r_3",},{'category_sign'=>"africa",'name_ua'=>"Політична карта. Народи",'name_en'=>"Political map. The people",'name_ru'=>"Политическая карта. Народы",'file'=>"r_25",'summary'=>"r_22",'legend'=>"Main",'pictures_list'=>"r_3",'questionnaire'=>"r_3",},{'category_sign'=>"australia",'name_ua'=>"Фізична карта",'name_en'=>"Physical map",'name_ru'=>"Физическая карта",'file'=>"r_26-1",'summary'=>"r_24_1",'legend'=>"Main",'pictures_list'=>"r_4",'questionnaire'=>"r_4",},{'category_sign'=>"australia",'name_ua'=>"Тектоніка. Геологія",'name_en'=>"Tectonics. Geology",'name_ru'=>"Тектоника. Геология",'file'=>"r_26-2",'summary'=>"r_24_1",'legend'=>"Main",'pictures_list'=>"r_4",'questionnaire'=>"r_4",},{'category_sign'=>"australia",'name_ua'=>"Клімат. Кліматичні пояси та області",'name_en'=>"Climate. Climatic zones and areas",'name_ru'=>"Климат. Климатические пояса и области",'file'=>"r_27-1",'summary'=>"r_24_2",'legend'=>"Main",'pictures_list'=>"r_4",'questionnaire'=>"r_4",},{'category_sign'=>"australia",'name_ua'=>"Природні зони",'name_en'=>"Natural areas",'name_ru'=>"Природные зоны",'file'=>"r_27-2",'summary'=>"r_24_2-1",'legend'=>"Main",'pictures_list'=>"r_4",'questionnaire'=>"r_4",},{'category_sign'=>"australia",'name_ua'=>"Політична карта. Народи",'name_en'=>"Political map. The people",'name_ru'=>"Политическая карта. Народы",'file'=>"r_28-1",'summary'=>"r_25",'legend'=>"Main",'pictures_list'=>"r_4",'questionnaire'=>"r_4",},{'category_sign'=>"south_america",'name_ua'=>"Фізична карта. Тектоніка",'name_en'=>"Physical map. Tectonics",'name_ru'=>"Физическая карта. Тектоника",'file'=>"r_30",'summary'=>"r_26",'legend'=>"Main",'pictures_list'=>"r_5",'questionnaire'=>"r_5",},{'category_sign'=>"south_america",'name_ua'=>"Клімат. Геологія",'name_en'=>"Climate. Geology",'name_ru'=>"Климат. Геология",'file'=>"r_31",'summary'=>"r_27",'legend'=>"Main",'pictures_list'=>"r_5",'questionnaire'=>"r_5",},{'category_sign'=>"south_america",'name_ua'=>"Природні зони. Кліматичні пояси та області",'name_en'=>"Natural areas. Climatic zones and areas",'name_ru'=>"Природные зоны. Климатические пояса и области",'file'=>"r_32",'summary'=>"r_27-1",'legend'=>"Main",'pictures_list'=>"r_5",'questionnaire'=>"r_5",},{'category_sign'=>"south_america",'name_ua'=>"Політична карта. Народи",'name_en'=>"Political map. The people",'name_ru'=>"Политическая карта. Народы",'file'=>"r_33",'summary'=>"r_28",'legend'=>"Main",'pictures_list'=>"r_5",'questionnaire'=>"r_5",},{'category_sign'=>"north_america",'name_ua'=>"Фізична карта. Тектоніка. Давнє материкове зледеніння",'name_en'=>"Physical map. Tectonics. The ancient continental glaciation",'name_ru'=>"Физическая карта. Тектоника. Давнее материковое обледенения",'file'=>"r_34",'summary'=>"r_30",'legend'=>"Main",'pictures_list'=>"r_6",'questionnaire'=>"r_6",},{'category_sign'=>"north_america",'name_ua'=>"Клімат. Геологія",'name_en'=>"Climate. Geology",'name_ru'=>"Климат. Геология",'file'=>"r_35",'summary'=>"r_31",'legend'=>"Main",'pictures_list'=>"r_6",'questionnaire'=>"r_6",},{'category_sign'=>"north_america",'name_ua'=>"Природні зони. Кліматичні пояси та області",'name_en'=>"Natural areas. Climatic zones and areas",'name_ru'=>"Природные зоны. Климатические пояса и области",'file'=>"r_36",'summary'=>"r_31-1",'legend'=>"Main",'pictures_list'=>"r_6",'questionnaire'=>"r_6",},{'category_sign'=>"north_america",'name_ua'=>"Політична карта. Народи",'name_en'=>"Political map. The people",'name_ru'=>"Политическая карта. Народы",'file'=>"r_37",'summary'=>"r_32",'legend'=>"Main",'pictures_list'=>"r_6",'questionnaire'=>"r_6",},{'category_sign'=>"antarctica",'name_ua'=>"Фізична карта",'name_en'=>"Physical map",'name_ru'=>"Физическая карта",'file'=>"r_29-1",'summary'=>"r_19_1",'legend'=>"Main",'pictures_list'=>"r_7",'questionnaire'=>"r_7",},{'category_sign'=>"antarctica",'name_ua'=>"Клімат. Підлідний рельєф",'name_en'=>"Climate. Subglacial topography",'name_ru'=>"Климат. Подледный рельеф",'file'=>"r_29-2",'summary'=>"r_19_2",'legend'=>"Main",'pictures_list'=>"r_7",'questionnaire'=>"r_7",},{'category_sign'=>"antarctica",'name_ua'=>"Південний океан. Дослідження Антарктиди",'name_en'=>"Southern Ocean. Research in Antarctica",'name_ru'=>"Южный океан. Исследование Антарктиды",'file'=>"r_28-2",'legend'=>"Main",'pictures_list'=>"r_7",'questionnaire'=>"r_7",},{'category_sign'=>"eurasia",'name_ua'=>"Фізична карта. Давнє материкове зледеніння",'name_en'=>"Physical map. The ancient continental glaciation",'name_ru'=>"Физическая карта. Давнее материковое обледенения",'file'=>"r_38_39",'summary'=>"r_34",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Тектоніка",'name_en'=>"Tectonics",'name_ru'=>"Тектоника",'file'=>"r_40",'summary'=>"r_34",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Геологія",'name_en'=>"Geology",'name_ru'=>"Геология",'file'=>"r_41",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Клімат",'name_en'=>"Climate",'name_ru'=>"Климат",'file'=>"r_42",'summary'=>"r_35",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Кліматичні пояси та області",'name_en'=>"Climatic zones and areas",'name_ru'=>"Климатические пояса и области",'file'=>"r_43-1",'summary'=>"r_35",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Природні зони",'name_en'=>"Natural areas",'name_ru'=>"Природные зоны",'file'=>"r_44_45",'summary'=>"r_36",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Народи",'name_en'=>"The people",'name_ru'=>"Народы",'file'=>"r_43-2",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"eurasia",'name_ua'=>"Політична карта",'name_en'=>"Political map",'name_ru'=>"Политическая карта",'file'=>"r_46_47",'summary'=>"r_37",'legend'=>"Main",'pictures_list'=>"r_8",'questionnaire'=>"r_8",},{'category_sign'=>"our_home",'name_ua'=>"Географічні подорожі та відкриття",'name_en'=>"Geographic Travels and discoveries",'name_ru'=>"Географические путешествия и открытия",'file'=>"r_11",'summary'=>"r_13",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Політична карта світу",'name_en'=>"Political World Map",'name_ru'=>"Политическая карта мира",'file'=>"r_12_13",'summary'=>"r_14",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Розміщення населення",'name_en'=>"Placement of the population",'name_ru'=>"Размещение населения",'file'=>"r_15",'summary'=>"r_16",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Народи світу",'name_en'=>"Peoples of the World",'name_ru'=>"Народы мира",'file'=>"r_14-1",'summary'=>"r_17",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Раси",'name_en'=>"Races",'name_ru'=>"Расы",'file'=>"r_14-2",'summary'=>"r_18_1",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Релігії",'name_en'=>"Religion",'name_ru'=>"Религии",'file'=>"r_49",'summary'=>"r_18_2",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Глобальні екологічні проблеми",'name_en'=>"Global environmental problems",'name_ru'=>"Глобальные экологические проблемы",'file'=>"r_48-1",'summary'=>"r_41",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",},{'category_sign'=>"our_home",'name_ua'=>"Охорона природи",'name_en'=>"Conservation",'name_ru'=>"Охрана природы",'file'=>"r_48-2",'legend'=>"Main",'pictures_list'=>"r_9",'questionnaire'=>"r_9",}].each{|map| Map.create(map) }
    end
    if Control.find(:all).size == 0
      system_lang = nil
      if ['uk', 'ru', 'en'].include?(System.get_locale)
        system_lang = System.get_locale == 'uk' ? 'ua' : System.get_locale
      end
      # PLACEHOLDER: default_lang, e.g. default_lang = 'ru'
      default_lang = 'ua'
      Control.create({'name' => 'lang', 'value' => (system_lang || default_lang), 'type' => 'select', 'values_str' => '["ua","ru","en"]'})
      Control.create({'name' => 'icon_size', 'value' => (System::get_property('platform') == 'APPLE' ? 'small' : 'normal'), 'type' => 'select', 'values_str' => '["small","normal"]'})
      Control.create({'name' => 'zoom_step', 'value' => '70', 'type' => 'range', 'values_str' => '{"min":50,"max":100,"step":1}'})
      Control.create({'name' => 'show_controls_icon', 'value' => '1', 'type' => 'checkbox'})
    end

    # Tab items are loaded left->right, @tabs[0] is leftmost tab in the tab-bar
    # Super must be called *after* settings @tabs!
    @tabs = nil
    #To remove default toolbar uncomment next line:
    @@toolbar = nil
    super

    # Uncomment to set sync notification callback to /app/Settings/sync_notify.
    # SyncEngine::set_objectnotify_url("/app/Settings/sync_notify")
    SyncEngine.set_notification(-1, "/app/Settings/sync_notify", '')
  end
end
